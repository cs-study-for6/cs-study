# TDD, BDD, DDD

TDD, BDD, DDD 는 모두 소프트웨어 개발에 사용되는 방법론 또는 접근 방식이며, 각각 고유한 초점과 원칙을 가지고 있다.

## TDD (Test-Driven Development)

TDD란 Test Driven Development의 약자로 '<b>테스트 주도 개발</b>'이라고 한다. TDD는 매우 짧은 개발 주기의 반복에 의존하는 소프트웨어 개발 프로세스이다.

먼저 개발자는 원하는 개선 사항이나 새로운 기능을 정의하는 자동화된 테스트 케이스를 작성한다. 그리고 해당 케이스를 통과하는 가장 짧고 가독성이 좋으며, 유지보수성이 뛰어난 코드를 작성한다. 

다음으로 실패하는 테스트 케이스를 먼저 작성한 후에 개발을 진행한다. 그리고 해당 테스트를 통과하도록 코드를 작성하고 최종적으로 새 코드를 허용 가능한 표준으로 리팩토링한다.

<br>

### TDD의 진행 과정

1. <b>테스트 코드 작성</b> - 구현할 부분을 코드로 작성한다. (작은 단위의 테스트 작성)
2. <b>테스트 코드 실행</b> - 작성한 테스트 코드가 실패하는지 확인한다. 이 테스트가 만약 성공한다면 구현하지도 않은 부분의 코드가 성공했다는 것으로, 버그를 찾아야 한다.
3. <b>실패한 테스트 코드 성공시키기 위한 코드 구현</b> - 앞서 실패한 부분을 해결하는 최소한의 코드를 구현한다.
4. <b>코드 리팩토링</b> - 중복 제거 등..

<b>테스트 코드를 프로덕션 코드보다 먼저 작성하는 이유는 보다 깔끔한 코드 작성과 장기적인 개발 비용 절감에 있다.</b> 

TDD는 '<b>테스트 코드 작성 ⇒ 기능 구현 코드 작성 ⇒ 리팩토링</b>'의 단계를 반복 수행함으로써 코드의 질을 향상시킬 수 있게 한다.

<img src="https://github.com/cs-study-for6/cs-study/assets/88493727/4223db46-7e3a-41a2-8cad-ea440e59f593" width="300px" alt="https://wooaoe.tistory.com/33">

위 그림에서와 같이 실패하는 코드를 먼저 작성하고, 테스트 코드를 성공시키기 위한 실제 코드를 작성한 다음, 중복 코드 제거, 일반화 등의 리팩토링을 수행하는 것이다.

테스트 주도 개발은 주로 쉬운 경우에서 어려운 경우로 진행한다.

<br>

### TDD의 장점

* 개발하다가 꼬여도 테스트를 진행해보면서 걱정 없이 진행할 수 있다.
* 객체지향적이고 확장 가능성이 높은 코드를 짜기에 용이하다.
* 재설계의 시간을 단축시킬 수 있다.
* 디버깅 시간이 단축된다.

<br>

### TDD의 단점

* 절대 코딩량이 증가하기 때문에, 빠른 생산성이 요구되는 상황에서는 적합하지 않다.
* 테스트 코드 작성 자체에 대한 진입장벽이 있다. 테스트 대상이 되는 기능을 어떤 방법으로 검증할지, 어떤 도구를 사용할 것인지에 대해 알려면 소프트웨어에 대한 높은 이해가 선행되어야 한다.
* 테스트 코드 작성 범위에 대한 고민이 있다. 어디서부터 어디까지 테스트 코드를 작성해야 할지 정하기 어려울 수 있다.

<br><br>

## 일반 개발 방식과 TDD 개발 방식 비교

### 일반적인 개발 방식

일반적인 개발 방식은 '요구사항 분석 → 설계 → 개발 → 테스트 → 배포'의 개발 주기를 가진다.

그런데 이러한 방식은 소프트웨어 개발 속도를 저하시킬 수 있다. 그 이유는 다음과 같다.

1. 소비자 요구사항의 모호함 (처음부터 완벽히 설계하는 것이 어렵다)
2. 자체 버그 검출 능력 저하 가능성 (소스코드 품질 저하)
3. 자체 테스트 비용 증가 가능성

어떤 프로젝트든 초기 설계가 완벽하기 어렵다는 점에서, 일반적인 개발 방식을 적용하면 개발 속도가 느려지는 것은 물론 코드의 품질이 저하되고 비용이 증가하는 것이다. 고객의 요구사항이 변화하기도 하고, 디자인 수정 등의 과정을 거치면서 점진적으로 완성이 되는데, 이 과정에서 불필요한 코드가 남거나 중복처리될 가능성이 높아진다.

즉, <b>유지보수성이 떨어지는 것</b>이다.

그리고 작은 부분을 수정해도 테스트를 하려면 모든 부분을 테스트해야 하므로 버그 검출이 난해해진다. 이런 상황이 누적되면 어디서 버그가 발생할지 모르기 때문에 잘못된 코드도 고치지 않으려 하는 현상이 발생한다. 이것은 소스코드 품질 저하와 직결된다.

그럼에도 모든 기능을 다시 테스트 해야 하는 상황이 발생하면 자체 테스트 비용이 증가한다.

<br>

### TDD와 일반적인 개발 방식의 차이점

TDD와 일반적인 개발 방식의 가장 큰 차이점은 <b>테스트 코드를 작성한 뒤에 실제 코드를 작성한다는 것</b>이다.

프로그래밍의 목적을 설계(디자인) 단계에서 반드시 정의해야만 하고, 또 무엇을 테스트해야 할지 미리 정의(테스트 케이스 작성)해야만 한다.

테스트 코드를 작성하는 도중에 발생하는 버그, 수정사항들은 테스트 케이스에 추가하고 설계를 개선한다. 이후에 테스트가 통과된 코드만을 코드 개발 단계에서 실제 코드(프로덕션 코드)로 작성한다.

이러한 단계를 반복 수행하면서 코드의 버그가 감소하고, 소스코드는 깔끔해진다. 또, 설계가 개선됨으로써 재설계 시간이 단축된다.

<br>

## BDD (Behavior-Driven Development)

BDD란 Behavior Driven Development의 약자로 '<b>행동 주도 개발</b>'이라고 한다. TDD(테스트 주도 개발)의 원칙을 확장하고 이해관계자의 관점에서 소프트웨어 동작에 초점을 맞춘 민첩한 소프트웨어 개발 방법론이다.

BDD에서 소프트웨어 개발은 기술 요구 사항이나 구현 세부 사항에만 초점을 맞추는 것이 아니라, 원하는 시스템 동작을 정의하고 이해하는 방식으로 진행된다. 이러한 동작은 종종 "Given-When-Then"이라는 특정 구문이나 유사한 형식을 사용하여 실행되며, 이는 자연어로 실행 가능한 명세서를 작성하는 데 도움이 된다.

<br>

### BDD와 TDD의 차이

BDD는 TDD와 거의 유사하긴 하지만, <b>TDD는 테스트 자체에 집중해 개발을 한다면 BDD는 비즈니스 요구사항에 집중하여 테스트 케이스를 개발한다는 점에서 차이가 있다.</b>

테스트 케이스 자체가 요구 사양(specification)이 되도록 하는 개발 방식으로, TDD를 결합해 시나리오 테스트까지 하는 것이다. 시나리오는 테스트를 어디서부터 시작할지, 어떤 부분을 테스트하고 어떤 부분을 테스트하지 않을지, 어느 정도를 테스트할지, 테스트 명명을 어떻게 할지, 테스트가 왜 실패했는지 등에 대한 고민을 해결해준다.

BDD를 할 때에는 메서드 이름을 "should do something" 즉, 이 클래스가 어떤 행위를 해야 한다는 식의 문장으로 작성한다. 즉, '행위'를 위한 테스트에 집중하는 것이다.

<br>

### BDD의 주요 원칙

BDD는 팀 구성원 간의 협업, 의사소통 및 이해를 향상하여 이해관계자의 요구와 기대를 충족하는 소프트웨어 개발을 목표로 한다.

BDD의 주요 원칙들은 다음과 같다.

1. <b>협업</b> - BDD는 시스템 동작에 대한 공유된 이해를 보장하기 위해 개발자, 테스터, 제품 소유자 및 기타 이해관계자 간의 협력을 강조한다.
2. <b>예제별 사양(specification)</b> - BDD는 원하는 동작과 요구 사항을 설명하기 위해 구체적인 예를 사용하도록 권장한다. 이러한 예제는 문서화 및 자동화된 테스트 역할을 한다.
3. <b>유비쿼터스 언어</b> - BDD는 기술 팀 구성원과 비기술 팀 구성원 모두가 이해할 수 있는 공통의 도메인 별 언어 사용을 장려한다. 이 언어는 시스템 동작에 대한 명확한 의사소통과 공유된 이해를 보장하는 데 도움이 된다.
4. <b>자동화된 테스트</b> - BDD는 지정된 동작을 기반으로 테스트 자동화를 촉진한다. 이러한 테스트는 실행 가능한 명세서의 역할을 하며, 시스템이 예상대로 작동하는지에 대한 빠른 피드백을 제공한다.

<br>

### BDD의 장점

* 향상된 커뮤티케이션 - 유비쿼터스 언어를 사용하여 시스템 동작을 설명함으로써 이해관계자 간의 협업을 촉진한다.
* 명확한 요구사항 - 구체적인 예를 사용하여 시스템 동작을 지정하여 더 명확하고 자세한 요구 사항을 도출하도록 권장한다.
* 문서화되는 자동화된 테스트 - BDD 테스트는 시스템의 예상 동작을 문서화하는 실행 가능한 명세서 역할을 한다.
* 문제에 대한 이른 파악 - BDD는 일반적으로 해당 코드를 구현하기 전에 작성된다. 그렇기에 문제를 조기에 감지하기 쉽다.
* 비즈니스 가치에 초점 - BDD는 개발에 투입되는 노력을 이해관계자의 요구 사항에 맞춰 조정한다. 그렇게 비즈니스 가치를 제공하는 데 중점을 둔다.

<br>

### BDD의 단점

* 오버헤드 - BDD를 구현하려면 관련 기술과 도구를 배우기 위한 초기 시간과 노력이 필요하다. 기존 테스트 방법보다 시간이 더 많이 걸릴 가능성이 있다.
* 도구 및 인프라 - BDD는 테스트 작성 및 실행을 위해 특정 도구 및 프레임워크에 의존하는 경우가 많다. 경우에 따라 이것이 진입 장벽이 될 수 있다.
* 이해관계자 참여에 대한 의존성 - BDD는 이해관계자 간의 협력에 크게 의존한다. 이해관계자가 적극적으로 참여하지 않거나, 이를 이용하지 않으면 방법론의 효율성이 저하될 수 있다
* Given-When-Then의 오용 - 해당 형식에 시나리오를 맞추려다 보면 지나치게 절차적일 될 수 있다. 그리고 높은 수준의 동작보다는 구현 세부 사항에 너무 많은 초점을 둘 수도 있다.

<br>

## DDD (Domain-Driven Design)

DDD는 Domain-Driven Design의 약자로 '<b>도메인 주도 설계</b>'라고 한다. 각 비즈니스 도메인 패턴을 중심에 놓고 설계하는 방식을 말한다. 소프트웨어 시스템이 작동하는 비즈니스 영역을 이해하고 모델링하는 데 초점을 맞추고 있다.

도메인 그 자체와 로직에 초점을 맞추어, 일반적으로 많이 사용하는 데이터 중심의 접근법이 아닌 순수한 도메인의 모델과 로직에만 집중한다.

DDD는 서비스를 제공하는 도메인과 밀접하게 일치하는 복잡한 소프트웨어 시스템을 설계하기 위한 일련의 원칙, 패턴 및 사례를 제공한다.

<br>

### DDD의 핵심 요소

* <b>유비쿼터스 언어</b> - 기술팀과 비기술팀 간 공통의 공유 언어를 구축하는 것을 강조한다. 그래서 모두가 도메인 개념과 요구 사항을 논의할 수 있다.
* <b>제한된 컨텍스트</b> - DDD는 복잡한 도메인을 제한된 컨텍스트(Bounded Contexts)라고 하는 작고 관리하기 용이한 단위로 나눈다. 복잡성을 관리하는 데 도움이 된다.
* <b>도메인 모델</b> - 도메인 모델은 비즈니스 도메인을 코드로 표현한 것이다. 이는 소프트웨어 시스템 설계의 기초 역할을 한다.
* <b>도메인 전문가와의 협업</b> - DDD는 개발자, 비즈니스 분석가, 제품 소유자, 전문가 등 다양한 전문가 간의 긴밀한 협업을 강조한다. 도메인 전문가는 통찰력을 제공하여 개발자가 실제 요구 사항과 제약 조건을 정확히 소프트웨어에 반영할 수 있게 돕는다.
* <b>지속적인 개선</b> - DDD는 모델링 및 설계에 대한 반복적이고 피드백 중심적인 접근 방식을 장려한다. 그리하여 팀이 새로운 정보와 상황에 적응할 수 있도록 한다.

전반적으로 DDD는 서비스를 제공하는 도메인의 요구 사항에 밀접하게 부합하는 소프트웨어 시스템을 구축하기 위한 전체적인 프레임워크를 제공한다. DDD는 도메인 이해, 협업 및 반복적 설계에 중점을 두어 팀이 보다 효과적이고 유지 관리가 잘 되는 소프트웨어 솔루션을 개발할 수 있도록 해준다.




<br><br><br><br>

[참고자료]

<a href="https://wooaoe.tistory.com/33">[기술면접] TDD(Test-Driven-Development) 방법론에 대해서</a>

<a href="https://blog.naver.com/rkdudwl/221973507455">TDD, BDD, DDD, 테스트 주도 개발 개념 및 차이</a>

<a href="https://velog.io/@sinclebear/TDD-BDD-DDD%EB%9E%80">TDD, BDD, DDD란?</a>

<a href="https://slaks1005.tistory.com/61">TDD, DDD, BDD란</a>
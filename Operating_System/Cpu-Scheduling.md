# CPU 스케줄링 (CPU Scheduling)

## CPU 스케줄링 정의

CPU 스케줄링은 멀티 태스킹 환경에서 프로세스의 CPU(중앙 처리 장치)를 할당하는 기본 운영 체제 작업이다. CPU 스케줄링의 <b>주요 목표는 CPU 활용도를 최대화하고 프로세스의 효율적이고 공정한 실행을 보장하는 것</b>이다.

멀티태스킹 시스템에서는 여러 프로세스가 CPU 시간을 놓고 경쟁한다. CPU 스케줄링은 스케줄링 알고리즘을 기반으로 CPU를 사용할 프로세스와 기간을 결정한다. 이러한 알고리즘은 처리량(throughput), 응답 시간(response time), 처리 시간(turnaround time), 공정성(fairness)과 같은 다양한 성능 지표를 최적화하는 것을 목표로 한다.

<br>

## CPU 스케줄링 사용 이유

CPU 스케줄링을 사용하는 이유는, CPU 활용도 극대화, 프로세스 간 공정성 보장, 시스템 응답성 향상, 처리량 향상, 멀티태스킹 운영 체제에서 효율적인 리소스 공유 활성화 등에 필수적이다. 이는 CPU 스케줄링의 장점이라고 할 수 있겠다.

1. 효율적인 CPU 활용

CPU를 가능한 한 많은 작업으로 바쁜 상태를 유지하게 하여 효율적으로 사용되도록 보장한다. CPU가 불필요하게 쉬고 있는 상태가 되는 것을 방지한다.

2. 다중 프로그래밍

여러 프로세스가 동시에 실행되는 다중 프로그래밍 환경에서 CPU 스케줄링을 활용하여 프로세스 간에 신속한 전환이 가능하게 하여 동시 실행을 하는 것처럼 보이게 할 수 있다. 이를 통해 리소스 활용도가 향상되고 시스템 처리량이 증가한다.

3. 공정성

CPU 스케줄링은 각 프로세스에 CPU 시간을 공평하게 분배하여 리소스 할당의 공정성을 보장한다. 프로세스 우선순위, 대기 시간 등의 요소를 고려하는 스케줄링 알고리즘을 사용해 경쟁하는 프로세스 간에 CPU 리소스에 대한 공평한 액세스를 제공하려고 노력한다.

4. 응답 시간

CPU 스케줄링은 즉각적인 주의가 필요한 대화형 작업이나 프로세스에 CPU 시간을 신속하게 할당함으로써 인식되는 대기 시간을 줄이고 사용자 경험을 향상시키는 데에 일조한다.

5. 처리량

유휴 CPU 시간을 최소화하고 프로세스 실행을 최대화함으로써 스케줄링 알고리즘은 전체 시스템 처리량을 높일 수 있다.

6. 리소스 공유

동시에 실행되는 여러 프로세스 간에 CPU 리소스 공유를 용이하게 한다. 단일 프로세스가 CPU를 독점하지 않도록 하여 다양한 워크로드를 수용함으로써 시스템 리소스를 효율적으로 활용할 수 있다.

<br>

## CPU 스케줄링 추가 설명

멀티태스킹을 위해서는 운영체제가 CPU의 가동 시간을 적절히 분배해 프로세스에세 사용 시간을 배분한다. 이때 시스템과 사용자 입장에서 각각 CPU 성능에 대한 척도가 다를 수 있다.

### 시스템 입장에서의 성능 척도

- CPU 사용률 (CPU Utilization) : 전체 시스템 시간 중 CPU가 작업을 처리하는 시간의 비율
- 처리량 (Throuhput) : CPU가 단위 시간당 처리하는 프로세스의 개수

### 사용자 입장에서의 성능 척도

- 대기시간 (Waiting Time) : 프로세스가 준비 상태에서 CPU를 할당 받을 때까지 기다린 시간
- 응답시간 (Response Time) : 프로세스의 명령 요청 후 응답이 올 때까지 걸린 시간
- 반환시간 (Turnaround Time) : 프로세스가 시작해서 끝날 때까지 걸리는 시간

시스템의 입장에서는 CPU를 쉬지 않고 최대한 많이 가동시키는 것이 중요하고, 사용자 입장에서는 요청한 작업이 신속하게 처리되는 것이 중요하다. 그러므로 운영체제는 상황에 맞게 CPU 스케줄링을 설계해야 한다.

<br>

CPU 스케줄링은 스케줄링 방식에 따라 선점형과 비선점형으로 구분할 수 있다.

## CPU 스케줄링 방식

### 비선점형 스케줄링

1. 선입 선처리(First Come First Served, FCFS) 알고리즘
2. 최단 작업 우선(Shortest Job First, SJF) 알고리즘
3. 최고 응답률 우선(Highest Response-ratio Next, HRN) 알고리즘

### 선점형 스케줄링

1. 라운드 로빈(Round Robin, RR) 알고리즘
2. 최소 잔여 시간 우선(Shortest Remaining Time, SRT) 알고리즘
3. 다단계 큐(Multi-level Queue, MQ) 알고리즘
4. 다단계 피드백 큐(Multi-level Feedback Queue, MFQ) 알고리즘


<br>

## CPU 스케줄링 장단점

전반적으로 CPU 스케줄링인 멀티태스킹 운영 체제에서 효율적인 리소스 관리에 필수적이지만, 시스템 설계 및 죄적화 중에 신중하게 고려해야 하는 복잡성과 상충점(trade-off)을 가지고 있다.

### 장점

* 향상된 CPU 활용도
* 향상된 처리량
* 공정성
* 향상된 응답성
* 리소스 공유

### 단점

* 오버헤드 (Overhead) : CPU 스케줄링 알고리즘을 구현하고 관리하면 계산 오버헤드가 발생한다. 특히 리소스 요구 사항이 낮거나 멀티 태스킹이 최소화된 시스템에서는 오버헤드가 이점보다 클 수 있다.
* 복잡성 (Complexity) : 스케줄링 알고리즘은 복잡할 수 있으므로 신중한 설계와 구현이 필요하다. 잘못 설계된 알고리즘은 비효율성 또는 불공정한 리소스 할당으로 이어질 수 있다.
* 고갈 (Starvation) : 특정 스케줄링 알고리즘으로 인해 일부 프로세스가 CPU 리소스에 대한 액세스가 지속적으로 거부되어 성능이 저하되거나 교착 상태가 발생하는 고갈이 발생할 수 있다.
* 대기 시간 (Latency) : CPU 스케줄링은 응답 시간을 줄이는 것을 목표로 하지만 특정 스케줄링 결정은 특히 프로세스 경합이 높은(high process contention) 시스템이나 실시간 작업을 처리할 때 대기 시간을 유발할 수 있다.
* 알고리즘 제한 (Algorithmic Limitations) : 모든 시나리오에 최적인 단일 스케줄링 알고리즘은 없다. 가장 적절한 알고리즘을 선택하는 것은 시스템의 특정 요구 사항 및 특성에 따라 달라진다. 

<br><br><br><br>

[참고자료]

<a href="https://www.robotstory.co.kr/raspberry/?vid=148">CPU 스케줄링(CPU Schduling) - 로봇스토리</a>